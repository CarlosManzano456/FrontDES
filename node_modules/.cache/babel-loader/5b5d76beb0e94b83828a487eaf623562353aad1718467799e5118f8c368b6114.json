{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\carlo\\\\Downloads\\\\CodePills-ReactChat-main\\\\front\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport './App.css';\nimport { io } from 'socket.io-client';\nimport React, { useState, useEffect } from 'react'; // Importa React\nimport { LiMensaje, UlMensajes } from './ui-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:3000');\nfunction App() {\n  _s();\n  const [isConnected, setIsConnected] = useState(false);\n  const [nuevoMensaje, setNuevoMensaje] = useState('');\n  const [mensajes, setMensajes] = useState([]);\n  useEffect(() => {\n    socket.on('connect', () => setIsConnected(true));\n    socket.on('chat_message', data => {\n      setMensajes(mensajes => [...mensajes, data]);\n    });\n    return () => {\n      socket.off('connect');\n      socket.off('chat_message');\n    };\n  }, []);\n  const handleSubmit = event => {\n    event.preventDefault();\n    const newMessage = {\n      body: nuevoMensaje,\n      from: \"Me\"\n    };\n    setMensajes(state => [...state, newMessage]); // Agregar al final en lugar del principio\n    setNuevoMensaje(\"\");\n    socket.emit(\"chat_message\", newMessage.body);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: isConnected ? 'CONECTADO' : 'NO CONECTADO'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(UlMensajes, {\n      children: mensajes.map((mensaje, i) => /*#__PURE__*/_jsxDEV(LiMensaje, {\n        isMe: mensaje.from === 'Me',\n        children: [mensaje.from, \": \", mensaje.body]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 22\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: nuevoMensaje // Usa 'value' en lugar de 'onChange'\n      ,\n      onChange: e => setNuevoMensaje(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      children: \"Enviar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"pagina1\",\n      class: \"pagina\",\n      children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n        src: \"files\\\\cifrados.html\",\n        width: \"100%\",\n        height: \"500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"5Ox6MseuBFVx+c+J/0kpVAMtinQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["io","React","useState","useEffect","LiMensaje","UlMensajes","socket","App","isConnected","setIsConnected","nuevoMensaje","setNuevoMensaje","mensajes","setMensajes","on","data","off","handleSubmit","event","preventDefault","newMessage","body","from","state","emit","map","mensaje","i","e","target","value"],"sources":["C:/Users/carlo/Downloads/CodePills-ReactChat-main/front/src/App.js"],"sourcesContent":["import './App.css';\nimport { io } from 'socket.io-client';\nimport React, { useState, useEffect } from 'react'; // Importa React\nimport { LiMensaje, UlMensajes } from './ui-components';\n\nconst socket = io('http://localhost:3000');\n\nfunction App() {\n    const [isConnected, setIsConnected] = useState(false);\n    const [nuevoMensaje, setNuevoMensaje] = useState('');\n    const [mensajes, setMensajes] = useState([]);\n\n    useEffect(() => {\n        socket.on('connect', () => setIsConnected(true));\n        socket.on('chat_message', (data) => {\n            setMensajes(mensajes => [...mensajes, data]);\n        });\n\n        return () => {\n            socket.off('connect');\n            socket.off('chat_message');\n        }\n    }, []);\n\n    const handleSubmit = (event) => {\n      event.preventDefault();\n      const newMessage = {\n          body: nuevoMensaje,\n          from: \"Me\",\n      };\n      setMensajes(state => [...state, newMessage]); // Agregar al final en lugar del principio\n      setNuevoMensaje(\"\");\n      socket.emit(\"chat_message\", newMessage.body);\n  };\n  \n\n    return (\n        <div className=\"App\">\n            <h2>{isConnected ? 'CONECTADO' : 'NO CONECTADO'}</h2>\n            <UlMensajes>\n                {mensajes.map((mensaje, i) => (\n                     <LiMensaje key={i} isMe={mensaje.from === 'Me'}>{mensaje.from}: {mensaje.body}</LiMensaje>\n                ))}\n            </UlMensajes>\n            <input\n                type=\"text\"\n                value={nuevoMensaje} // Usa 'value' en lugar de 'onChange'\n                onChange={e => setNuevoMensaje(e.target.value)}\n            />\n            <button onClick={handleSubmit}>Enviar</button>\n\n            <div id=\"pagina1\" class=\"pagina\">\n\n            <iframe src=\"files\\cifrados.html\" width=\"100%\" height=\"500\"></iframe>\n\n            </div>\n        </div>\n\n    );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAO,WAAW;AAClB,SAASA,EAAE,QAAQ,kBAAkB;AACrC,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO,CAAC,CAAC;AACpD,SAASC,SAAS,EAAEC,UAAU,QAAQ,iBAAiB;AAAC;AAExD,MAAMC,MAAM,GAAGN,EAAE,CAAC,uBAAuB,CAAC;AAE1C,SAASO,GAAG,GAAG;EAAA;EACX,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACQ,YAAY,EAAEC,eAAe,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACZG,MAAM,CAACQ,EAAE,CAAC,SAAS,EAAE,MAAML,cAAc,CAAC,IAAI,CAAC,CAAC;IAChDH,MAAM,CAACQ,EAAE,CAAC,cAAc,EAAGC,IAAI,IAAK;MAChCF,WAAW,CAACD,QAAQ,IAAI,CAAC,GAAGA,QAAQ,EAAEG,IAAI,CAAC,CAAC;IAChD,CAAC,CAAC;IAEF,OAAO,MAAM;MACTT,MAAM,CAACU,GAAG,CAAC,SAAS,CAAC;MACrBV,MAAM,CAACU,GAAG,CAAC,cAAc,CAAC;IAC9B,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,YAAY,GAAIC,KAAK,IAAK;IAC9BA,KAAK,CAACC,cAAc,EAAE;IACtB,MAAMC,UAAU,GAAG;MACfC,IAAI,EAAEX,YAAY;MAClBY,IAAI,EAAE;IACV,CAAC;IACDT,WAAW,CAACU,KAAK,IAAI,CAAC,GAAGA,KAAK,EAAEH,UAAU,CAAC,CAAC,CAAC,CAAC;IAC9CT,eAAe,CAAC,EAAE,CAAC;IACnBL,MAAM,CAACkB,IAAI,CAAC,cAAc,EAAEJ,UAAU,CAACC,IAAI,CAAC;EAChD,CAAC;EAGC,oBACI;IAAK,SAAS,EAAC,KAAK;IAAA,wBAChB;MAAA,UAAKb,WAAW,GAAG,WAAW,GAAG;IAAc;MAAA;MAAA;MAAA;IAAA,QAAM,eACrD,QAAC,UAAU;MAAA,UACNI,QAAQ,CAACa,GAAG,CAAC,CAACC,OAAO,EAAEC,CAAC,kBACpB,QAAC,SAAS;QAAS,IAAI,EAAED,OAAO,CAACJ,IAAI,KAAK,IAAK;QAAA,WAAEI,OAAO,CAACJ,IAAI,EAAC,IAAE,EAACI,OAAO,CAACL,IAAI;MAAA,GAA7DM,CAAC;QAAA;QAAA;QAAA;MAAA,QACrB;IAAC;MAAA;MAAA;MAAA;IAAA,QACO,eACb;MACI,IAAI,EAAC,MAAM;MACX,KAAK,EAAEjB,YAAa,CAAC;MAAA;MACrB,QAAQ,EAAEkB,CAAC,IAAIjB,eAAe,CAACiB,CAAC,CAACC,MAAM,CAACC,KAAK;IAAE;MAAA;MAAA;MAAA;IAAA,QACjD,eACF;MAAQ,OAAO,EAAEb,YAAa;MAAA,UAAC;IAAM;MAAA;MAAA;MAAA;IAAA,QAAS,eAE9C;MAAK,EAAE,EAAC,SAAS;MAAC,KAAK,EAAC,QAAQ;MAAA,uBAEhC;QAAQ,GAAG,EAAC,sBAAqB;QAAC,KAAK,EAAC,MAAM;QAAC,MAAM,EAAC;MAAK;QAAA;QAAA;QAAA;MAAA;IAAU;MAAA;MAAA;MAAA;IAAA,QAE/D;EAAA;IAAA;IAAA;IAAA;EAAA,QACJ;AAGd;AAAC,GApDQV,GAAG;AAAA,KAAHA,GAAG;AAsDZ,eAAeA,GAAG;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}